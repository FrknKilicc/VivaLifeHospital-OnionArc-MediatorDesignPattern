@model List<ResultAllDepartmentDto>
<div class="container-fluid bg-primary my-5 py-5">
    <div class="container py-5">
        <div class="row gx-5">
            <div class="col-lg-6 mb-5 mb-lg-0">
                <div class="mb-4">
                    <h5 class="d-inline-block text-white text-uppercase border-bottom border-5">Randevu</h5>
                    <h1 class="display-4">Hızlı Randevu Oluştur</h1>
                </div>
                <p class="text-white mb-5">Hızlı randevularınızı kolayca alabileceğiniz VivaLife Hastanesi sitesinde, anında randevu seçenekleri ve hızlı işlem adımlarıyla zamanınızı en iyi şekilde değerlendirin. Sağlık,  ve daha birçok alanda randevularınız artık parmaklarınızın ucunda!</p>
                <a class="btn btn-dark rounded-pill py-3 px-5 me-3" href="">Doktor Bul</a>
                <a class="btn btn-outline-dark rounded-pill py-3 px-5" href="">Devamını Oku</a>
            </div>
            <div class="col-lg-6">
                <div class="bg-white text-center rounded p-5">
                    <h1 class="mb-4">Rendevu Oluştur</h1>
                    <form>
                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <select id="department" class="form-select bg-light border-0" style="height: 55px;">
                                    <option selected>Bölüm Seçiniz</option>
                                    @foreach (var item in Model)
                                    {
                                        <option value="@item.DepartmentId">@item.Name</option>
                                    }
                                </select>
                            </div>
                            <div class="col-12 col-sm-6">
                                <select id="doctor" class="form-select bg-light border-0" style="height: 55px;">
                                    <option selected>Doktor Seçiniz</option>
                                </select>
                            </div>
                            <div class="col-12 col-sm-6">
                                <input type="text" class="form-control bg-light border-0" placeholder="İsim" style="height: 55px;">
                            </div>
                            <div class="col-12 col-sm-6">
                                <input type="email" class="form-control bg-light border-0" placeholder="Mail" style="height: 55px;">
                            </div>
                            <div class="col-12 col-sm-6">
                                <div class="date" id="date" data-target-input="nearest">
                                    <input type="text"
                                           class="form-control bg-light border-0 datetimepicker-input"
                                           placeholder="Tarih" data-target="#date" data-toggle="datetimepicker" style="height: 55px;">
                                </div>
                            </div>
                            <div class="col-12 col-sm-6">
                                <div class="time" id="time" data-target-input="nearest">
                                    <input type="text"
                                           class="form-control bg-light border-0 datetimepicker-input"
                                           placeholder="Saat" data-target="#time" data-toggle="datetimepicker" style="height: 55px;">
                                </div>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-primary w-100 py-3" type="submit">Randevu Oluştur</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    @await Component.InvokeAsync("_ThemeScriptsComponentPartial")
    <script>
        $(document).ready(function () {
            $('#department').change(function () {
                var departmanId = $(this).val();
                $.ajax({
                    url: '@Url.Action("GetDoctorWithDepartment", "Department")' + '/' + departmanId,
                    type: 'GET',
                    dataType: 'json',
                    // data: { departmanId: departmanId },
                    success: function (doktorlar) {
                        $('#doctor').empty();
                        $.each(doktorlar, function (i, doktor) {
                            $('#doctor').append($('<option></option>').val(doktor.doctorId).text(doktor.name));
                        });
                    }
                });
            });
        });
    </script>

</div>
